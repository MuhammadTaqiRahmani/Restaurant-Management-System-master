{% extends "layout.html" %}
{% block body %}

<link rel="stylesheet" href="static/css/vertical-layout-light/orders.css">
<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Add Items</h4>
                <p class="card-description">Specify <code>Items</code> with details including <code>status</code> for Site Functionality.</p>
                <div class="container-temp">

                  <div class="template-demo" id="button-id">
                    <button type="button" class="btn btn-social-icon btn-youtube" onclick="openPopup()"><i class="fa-solid fa-plus" id="plus1"></i></button>
                  </div>

                  <div class="popup" id="popup">
                    <form method="post" action="/orders">
                      <div class="form-group">
                        <label for="customerStatusIdInput">Customer Status ID</label>
                        <input type="number" class="form-control" id="customerStatusIdInput" placeholder="Enter Customer Status ID" name="customer_status_id">

                        <label for="menuItemInput">Menu Item ID</label>
                        <input type="number" class="form-control" id="menuItemInput" placeholder="Enter Menu Item ID" name="menu_item_id">

                        <label for="amountOfItemsInput">Quantity</label>
                        <input type="number" class="form-control" id="amountOfItemsInput" placeholder="Enter Quantity" name="quantity">

                        <!-- Removed the Bill Input as it should be calculated server-side based on the items and quantities -->

                        <label for="tableInput">Table No</label>
                        <input type="number" class="form-control" id="tableInput" placeholder="Add Table" name="table_no">

                        <div id="buttons">
                          <button type="submit" class="btn btn-primary mr-2">Save</button>
                          <button type="button" class="btn btn-inverse-dark btn-fw" onclick="closePopup()">Cancel</button>
                        </div>
                      </div>
                    </form>
                  </div>

                  <div class="card-body" id="for-padding">
                    <p class="card-description"><code id="search1">Search</code></p>
                    <div class="template-demo">
                      <div class="input-group mb-2 mr-sm-2">
                        <div class="input-group-prepend">
                          <div class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></div>
                        </div>
                        <input type="text" class="form-control" id="searchInput" onkeyup="searchTable()" placeholder="Search here">
                      </div>
                    </div>
                  </div>
                </div>

                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Customer ID</th>
                        <th>Floor</th>
                        <th>Table No</th>
                        <th>Menu Item ID</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Customer Status ID</th>
                        <th>Bill</th>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <script>
            function openPopup() {
              var popup = document.getElementById("popup");
              popup.style.display = "block"; // This will make the popup visible
            }

            function closePopup() {
              var popup = document.getElementById("popup");
              popup.style.display = "none"; // This will hide the popup
            }

            function searchTable() {
              var input, filter, table, tr, td, i, txtValue;
              input = document.getElementById("searchInput");
              filter = input.value.toUpperCase();
              table = document.querySelector(".table");
              tr = table.getElementsByTagName("tr");

              for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0]; // Adjust the index based on which column you want to search
                if (td) {
                  txtValue = td.textContent || td.innerText;
                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                  } else {
                    tr[i].style.display = "none";
                  }
                }
              }
            }
          </script>

{% endblock %}